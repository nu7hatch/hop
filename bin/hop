#!/bin/bash

set -e
set -o pipefail

hopfile=""

if [ "$1" == "" ]; then
    hopfile="$(pwd)/.hop"
else
    hopfile="$HOME/.hop/$1"
fi

if [ -f "$hopfile" ]; then
	echo -e "-----> Hopping in..."
	make -f $hopfile 2>&1 | sed 's/^/       /' && echo -e "\n-----> Fuck yeah!" && exit 0
else
    echo -e "Can't hop in, '$hopfile' not found!"
    exit 1
fi

echo -e "\n-----> Yaiks! Something's fucked up!"
